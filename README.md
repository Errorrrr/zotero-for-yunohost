Пакет для ynohost с zotero-prime
----------------------------------------
Установка
------------
Сначала необходимо склонировать репозиторий к себе на сервер, с установленной ynohost.
Следующим шагом необходимо выполнить
```bash
$ yunohost app install $dir
```
где $dir - путь к директории с локальным репозиторием
После этого контейнеры займут порты 8080-8083
В соответствии с таблицей:
| Название          | URL                                          |
| ------------- | --------------------------------------------- |
| Zotero API    | http://localhost:8080                         |
| S3 Web UI     | http://localhost:8082                         |
| PHPMyAdmin    | http://localhost:8083                         |
По умолчанию, доступ к этим сервисам можно получить, используя эти данные:
| Название          | Логин                    | Пароль           |
| ------------- | ------------------------ | ------------------ |
| Zotero API    | admin                    | admin              |
| S3 Web UI     | zotero                   | zoterodocker       |
| PHPMyAdmin    | root                     | zotero             |

Удалить приложение
--------------------------------------------------------------------------------
```bash
$ yunohost remove app zotero
```
Сделать бэкап
--------------------------------------------------------------------------------
По идеи бэкап можно сделать следующей командой:
```bash
$ yunohost backup create --apps zotero
```
Но в моём случае, данная команда привела к ошибке(видимо плохо поставился yh),
поэтому можно поступить следующим образом: Зайти в папку scripts
И из неё выполнить:
```bash
$ bash backup
```
После чего создастся бэкап образа app-zotero, который можно восстановить:
```bash
$ bash restore
```
Путь куда будут складываться бэкапы можно настроить в соответствующих скриптах.

Настройка клиентской части
--------------------------------------------------------------------------------
Для начала нужно показать клиенту, куда он должен посылать запросы(если всё происходит внутри локальной сети,
то можно пропустить пункт)
Для этого в файле config.sh - везде вместо localhost проставляем ip вашего удалённого сервера(либо домен),
а также, если вы меняли порты, то здесь их также необходимо поменять.
Для того, чтобы открыть у себя клиент необходимо перейти в zotero-for-yunohost/scripts/app/zotero-prime/client
И из неё выполнить следующие команды:
```bash
$ ./config.sh
$ cd zotero-client
$ npm install
$ npm run build
$ cd ../zotero-standalone-build
$ ./fetch_xulrunner.sh -p l
$ ./fetch_pdftools
$ ./scripts/dir_build -p l
```
После чего клиент можно будет запустить командой:
```bash
$ ./staging/Zotero_VERSION/zotero
```
Лог/пас - admin/admin
